!function(t,e,F,a){"use strict";F.defineProperty(t,"__esModule",{value:!0});var P=F.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)F.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},R=function(t,e){if(a.isArray(t))return t;if(Symbol.iterator in F(t))return function(t,e){var o=[],n=!0,i=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(o.push(a.value),!e||o.length!==e);n=!0);}catch(t){i=!0,r=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}return o}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t};function n(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),F.defineProperty(t,n.key,n)}}var i,r,s,z=e("../../npm/@tarojs/taro-weapp/index.js"),p=(s=z)&&s.__esModule?s:{default:s};function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var c=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=F.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(F.setPrototypeOf?F.setPrototypeOf(t,e):t.__proto__=e)}(f,z.Component),o(f,[{key:"_constructor",value:function(){(function t(e,o,n){null===e&&(e=Function.prototype);var i=F.getOwnPropertyDescriptor(e,o);if(void 0===i){var r=F.getPrototypeOf(e);return null===r?void 0:t(r,o,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0})(f.prototype.__proto__||F.getPrototypeOf(f.prototype),"_constructor",this).apply(this,arguments),this.state={animation1:void 0,animation2:void 0,pwdboxValue:"",confirm:!1,message:""},this.$$refs=new p.default.RefsArray}},{key:"componentDidMount",value:function(){try{var t=p.default.getSystemInfoSync();this.screenWidth=t.screenWidth||375}catch(t){p.default.showToast({title:t.message||"获取系统信息失败",icon:"failed"})}}},{key:"_createData",value:function(t,e,o){var n=this;this.__state=t||this.state||{},this.__props=e||this.props||{};var i=this.$prefix,r=(0,z.genCompid)(i+"$compid__34"),a=R(r,2),s=a[0],p=a[1],u=(0,z.genCompid)(i+"$compid__35"),c=R(u,2),f=c[0],l=c[1],d=(0,z.genCompid)(i+"$compid__36"),m=R(d,2),h=m[0],_=m[1],y=(0,z.genCompid)(i+"$compid__37"),b=R(y,2),w=b[0],v=b[1],g=this.__props,x=g.isOpen,C=(g.onClose,g.withConfirm),S=g.closeOnClickOverlay,$=g.pwdbox1Config,O=g.pwdbox2Config,I=this.__state;return I.animation1,I.animation2,I.message,z.propsManager.set({isOpen:x,closeOnClickOverlay:S,onClose:this.__props.onClose},p,s),z.propsManager.set(P({},$,{onInputFinish:this.onInputFinish}),l,f),C&&z.propsManager.set(P({},O,{onInputFinish:this.onInputFinishConfirm}),_,h),z.propsManager.set({hideFinishBtn:!0,onKeyboradNumber:this.onKeyboradNumber,onKeyboradDelete:this.onKeyboradDelete},v,w),this.$$refs.pushRefs([{type:"component",id:"bzzzz",refName:"",fn:function(t){n.bottomupRef=t}},{type:"component",id:"czzzz",refName:"",fn:function(t){n.pwdboxRef1=t}},{type:"component",id:"dzzzz",refName:"",fn:function(t){n.pwdboxRef2=t}}]),F.assign(this.__state,{$compid__34:p,$compid__35:l,$compid__36:_,$compid__37:v,withConfirm:C}),this.__state}}]),r=i=f,i.$$events=[],i.$$componentPath="_components/pwd-keyboard/index",r);function f(){var t,e,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f);for(var o=arguments.length,n=a(o),i=0;i<o;i++)n[i]=arguments[i];return(e=r=u(this,(t=f.__proto__||F.getPrototypeOf(f)).call.apply(t,[this].concat(n)))).$usedState=["$compid__34","$compid__35","$compid__36","$compid__37","animation1","withConfirm","animation2","message","pwdboxValue","confirm","isOpen","closeOnClickOverlay","pwdbox1Config","pwdbox2Config","confirmErrorMsg"],r.onKeyboradNumber=function(t){var e=r.state,o=e.pwdboxValue,n=e.confirm;o.length<6&&(o+=t,r.setState({pwdboxValue:o}),n?r.pwdboxRef2.setInputState(o):r.pwdboxRef1.setInputState(o))},r.onKeyboradDelete=function(){var t=r.state,e=t.pwdboxValue,o=t.confirm;0<e.length&&(e=e.substring(0,e.length-1),r.setState({pwdboxValue:e}),o?r.pwdboxRef2.setInputState(e):r.pwdboxRef1.setInputState(e))},r.onBottomUpClose=function(){r.setState({confirm:!1,pwdboxValue:""}),r.props.onClose(),r.pwdboxRef1.clearInputState(),r.props.withConfirm&&(r.pwdboxRef2.clearInputState(),r.resetBoxAnimation())},r.onInputFinish=function(t){if(!r.props.withConfirm)return r.onBottomUpClose(),void r.props.onInputFinish(t);r.code1=t,r.setState({confirm:!0},function(){r.createAnimation()})},r.onInputFinishConfirm=function(t){if(r.code1!==t)return r.setState({message:r.props.confirmErrorMsg}),void setTimeout(function(){r.setState({message:""}),r.resetBoxAnimation()},1500);r.onBottomUpClose(),r.props.onInputFinish(r.code1)},r.resetBoxAnimation=function(){r.setState({confirm:!1}),r.createAnimation(!0)},r.createAnimation=function(t){var e=-r.screenWidth,o={duration:500,timingFunction:"ease",delay:0},n=p.default.createAnimation(o),i=p.default.createAnimation(o);n.translate(t?0:e).step(),i.translate(t?0:e).step(),r.setState({animation1:n.export(),animation2:i.export()}),r.pwdboxRef1.clearInputState(),r.pwdboxRef2.clearInputState(),r.setState({pwdboxValue:""})},r.customComponents=["BottomUp","PwdBox","KeyBoard"],u(r,e)}c.defaultProps={isOpen:!1,closeOnClickOverlay:!1,withConfirm:!1,confirmErrorMsg:"两次输入不一致，请重新输入！",pwdbox1Config:{title:"请输入支付密码",subTitle:"",showForgetPwd:!0},pwdbox2Config:{title:"再次确认",subTitle:"",showForgetPwd:!1},onClose:function(){},onInputFinish:function(){}},c.externalClass=["v-class"],t.default=c,Component(e("../../npm/@tarojs/taro-weapp/index.js").default.createComponent(c))}(exports,require,Object,Array);