!function(t,e,h,i){"use strict";h.defineProperty(t,"__esModule",{value:!0});var b=function(t,e){if(i.isArray(t))return t;if(Symbol.iterator in h(t))return function(t,e){var n=[],o=!0,r=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(o=(i=s.next()).done)&&(n.push(i.value),!e||n.length!==e);o=!0);}catch(t){r=!0,a=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),h.defineProperty(t,o.key,o)}}var r,a,w=e("../../npm/@tarojs/taro-weapp/index.js"),s=u(w),g=u(e("../../npm/classnames/index.js"));function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var c=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(h.setPrototypeOf?h.setPrototypeOf(t,e):t.__proto__=e)}(p,w.Component),n(p,[{key:"_constructor",value:function(){(function t(e,n,o){null===e&&(e=Function.prototype);var r=h.getOwnPropertyDescriptor(e,n);if(void 0===r){var a=h.getPrototypeOf(e);return null===a?void 0:t(a,n,o)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(o):void 0})(p.prototype.__proto__||h.getPrototypeOf(p.prototype),"_constructor",this).apply(this,arguments),this.defaultProps={closable:!0,loop:!0},this.state={visible:!0,animationData:void 0,duration:6e3,delay:1e3},this.$$refs=new s.default.RefsArray}},{key:"componentDidMount",value:function(){var n=this;this.props.loop&&s.default.createSelectorQuery().in(this.$scope).select(".v-noticebar-wrap").boundingClientRect().exec(function(t){n.wrapWidth=t[0].width,s.default.createSelectorQuery().in(n.$scope).select(".v-noticebar-content").boundingClientRect().exec(function(t){var e=t[0].width;n.resetDuration=n.state.duration*n.wrapWidth/e,setTimeout(function(){n.initAnimation()},n.state.delay)})})}},{key:"_createData",value:function(t,e,n){this.__state=t||this.state||{},this.__props=e||this.props||{};var o=this.$prefix,r=(0,w.genCompid)(o+"$compid__26"),a=b(r,2),i=a[0],s=a[1],u=(0,w.genCompid)(o+"$compid__27"),l=b(u,2),c=l[0],p=l[1],f=this.__state,d=f.visible,m=(f.animationData,this.__props),v=m.loop,_=m.closable;if(!d)return null;var y=(0,g.default)("v-noticebar-content",function(t,e,n){return e in t?h.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},"v-noticebar-loop",v));return w.propsManager.set({value:"horn"},s,i),_&&w.propsManager.set({value:"close",onClick:this.closeNoticeBar},p,c),h.assign(this.__state,{anonymousState__temp:y,$compid__26:s,$compid__27:p,closable:_}),this.__state}}]),a=r=p,r.$$events=[],r.$$componentPath="_components/noticebar/index",a);function p(){var t,e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p);for(var o=arguments.length,r=i(o),a=0;a<o;a++)r[a]=arguments[a];return(e=n=l(this,(t=p.__proto__||h.getPrototypeOf(p)).call.apply(t,[this].concat(r)))).$usedState=["anonymousState__temp","$compid__26","$compid__27","visible","animationData","closable","duration","delay","loop","children"],n.initAnimation=function(){var t=n.state.duration,e=s.default.createAnimation({duration:t,timingFunction:"linear"});e.translateX("-100%").step(),n.setState({animationData:e.export()}),setTimeout(function(){var t=s.default.createAnimation({duration:0});t.translateX(n.wrapWidth).step(),n.setState({animationData:t.export()}),setTimeout(function(){var t=s.default.createAnimation({duration:n.resetDuration});t.translateX(0).step(),n.setState({animationData:t.export()}),setTimeout(function(){n.initAnimation()},n.resetDuration)},100)},t)},n.closeNoticeBar=function(){n.setState({visible:!1})},n.customComponents=["MyIcon"],l(n,e)}c.externalClasses=["v-class","v-noticebar-notice"],t.default=c,Component(e("../../npm/@tarojs/taro-weapp/index.js").default.createComponent(c))}(exports,require,Object,Array);