"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.request=request,exports.default=function(){return{GET:request("GET"),POST:request("POST"),PUT:request("PUT"),DELETE:request("DELETE")}};var _lodash=require("../npm/lodash/lodash.js"),_index=require("../npm/@tarojs/taro-weapp/index.js"),_index2=_interopRequireDefault(_index);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function request(s){return function(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=arguments[2];return new Promise(function(r,u){s=s||"GET",_index2.default.request({url:n,data:t,method:s,header:(0,_lodash.extend)({"Content-Type":"application/json"},a.header),success:function(e){var t=e.statusCode;200<=t&&t<300||304===t?r(e):u({url:n,data:e.data,header:e.header,method:s,config:a,message:"网路请求错误，请稍后再试~"})},fail:function(e){u({code:"wx_request_fail",url:n,data:t,method:s,config:a,message:e.errMsg||"网路请求不符合规范，请检查域名是否符合要求~"})}})})}}