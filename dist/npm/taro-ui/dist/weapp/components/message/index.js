!function(e,t,n,f,r){"use strict";f.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),f.defineProperty(e,o.key,o)}}var s,i,c=n("../../../../../@tarojs/taro-weapp/index.js"),u=p(c),l=p(n("../../../../../prop-types/index.js")),_=p(n("../../../../../classnames/index.js"));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=f.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(f.setPrototypeOf?f.setPrototypeOf(e,t):e.__proto__=t)}(y,p(n("../../common/component.js")).default),o(y,[{key:"_constructor",value:function(){(function e(t,n,o){null===t&&(t=Function.prototype);var a=f.getOwnPropertyDescriptor(t,n);if(void 0===a){var s=f.getPrototypeOf(t);return null===s?void 0:e(s,n,o)}if("value"in a)return a.value;var r=a.get;return void 0!==r?r.call(o):void 0})(y.prototype.__proto__||f.getPrototypeOf(y.prototype),"_constructor",this).apply(this,arguments),this.state={_isOpened:!1,_message:"",_type:"info",_duration:3e3},this._timer=null,this.$$refs=new u.default.RefsArray}},{key:"bindMessageListener",value:function(){var n=this;u.default.eventCenter.on("atMessage",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t={_isOpened:!0,_message:e.message,_type:e.type,_duration:e.duration||n.state._duration};n.setState(t,function(){clearTimeout(n._timer),n._timer=setTimeout(function(){n.setState({_isOpened:!1})},n.state._duration)})}),u.default.atMessage=u.default.eventCenter.trigger.bind(u.default.eventCenter,"atMessage")}},{key:"componentDidShow",value:function(){this.bindMessageListener()}},{key:"componentDidMount",value:function(){this.bindMessageListener()}},{key:"componentDidHide",value:function(){u.default.eventCenter.off("atMessage")}},{key:"componentWillUnmount",value:function(){u.default.eventCenter.off("atMessage")}},{key:"_createData",value:function(e,t,n){this.__state=e||this.state||{},this.__props=t||this.props||{},this.$prefix;var o=this.__props,a=o.className,s=o.customStyle,r=this.__state,i=(r._message,r._isOpened),u=r._type,l=(0,_.default)({"at-message":!0,"at-message--show":i,"at-message--hidden":!i},"at-message--"+u,a),p=(0,c.internal_inline_style)(s);return f.assign(this.__state,{anonymousState__temp:p,rootCls:l}),this.__state}}]),i=s=y,s.$$events=[],s.$$componentPath="Users/luyong/Documents/GT_Workspace/xm-wxapp/node_modules/taro-ui/dist/weapp/components/message/index",i);function y(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y);for(var o=arguments.length,a=r(o),s=0;s<o;s++)a[s]=arguments[s];return(t=n=d(this,(e=y.__proto__||f.getPrototypeOf(y)).call.apply(e,[this].concat(a)))).$usedState=["anonymousState__temp","rootCls","_message","_isOpened","_type","_duration","__fn_on","className","customStyle"],n.customComponents=[],d(n,t)}m.defaultProps={customStyle:"",className:""},m.propTypes={customStyle:l.default.oneOfType([l.default.object,l.default.string]),className:l.default.oneOfType([l.default.array,l.default.string])},t.default=m,Component(n("../../../../../@tarojs/taro-weapp/index.js").default.createComponent(m))}(module,exports,require,Object,Array);